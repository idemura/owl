cc_tool = clang
cc_flags = --std=c17 -Wall -Werror -march=native -I. -fPIC
cc_extra =
libs =

rule cc
	deps = gcc
	depfile = $out.d
	command = $cc_tool -MD -MF $out.d $cc_flags $cc_extra $cc_opt -c $in -o $out
	description = Compile C

rule ar
	command = ar crs $out $in
	description = Create static library

rule ld
	command = $cc_tool -L. -o $out $in $libs
	description = Link
